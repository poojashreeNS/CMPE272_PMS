{% extends "layout.html" %}
{% block title %}Dashboard{% endblock %}
{% block body %}
  <h1 class="text-center">Dashboard</h1>
  <div class="row">
    <div class="col-sm-8 offset-sm-2">
      <h3><p>Welcome to the PMS dashboard, {{ g.user.profile.firstName }}!</p></h3>
    </div>
          <br>
<h3><p>Your Current Appointments</p></h3>
    <br>
<table class="table">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Doctor</th>
      <th scope="col">Specialization</th>
		<th scope="col">Appointment Date/Time</th>
		<th scope="col">Booking Date/Time</th>
		<th scope="col">Appointment Status</th>
      <th scope="col">Cancel Appointment</th>
    </tr>
  </thead>
<tbody>
    {% for x in upcoming_appointments %}
    <tr>
      <th scope="row">{{ loop.index }}</th>
      <td><b>{{ x[0] }}</b></td>
      <td><b>{{ x[1] }}</b></td>
      <td><b>{{ x[2] }}</b></td>
      <td><b>{{ x[3] }}</b></td>
      <td><b>upcoming</b></td>
      <td><button type="button" class="btn btn-warning">Cancel Appointment</button></td>
      {% endfor %}
    </tr>
  </tbody>
</table>
<h3><p>Cancelled Appointments</p></h3>
<table class="table">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Doctor</th>
      <th scope="col">Specialization</th>
		<th scope="col">Appointment Date/Time</th>
		<th scope="col">Booking Date/Time</th>
		<th scope="col">Appointment Status</th>
    </tr>
  </thead>
  <tbody>
    {% for x in cancelled_appointments %}
    <tr>
      <th scope="row">{{loop.index}}</th>
      <td><b>{{ x[0] }}</b></td>
      <td><b>{{ x[1] }}</b></td>
      <td><b>{{ x[2] }}</b></td>
      <td><b>{{ x[3] }}</b></td>
      <td class="table-danger"><b>Cancelled</b></td>
      {% endfor %}
    </tr>
  </tbody>
</table>
<h3><p>Completed Appointments</p></h3>
<table class="table">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Doctor</th>
      <th scope="col">Specialization</th>
		<th scope="col">Appointment Date/Time</th>
		<th scope="col">Booking Date/Time</th>
		<th scope="col">Appointment Status</th>
  </thead>
  <tbody>
    {% for x in completed_appointments %}
    <tr>
      <th scope="row">{{ loop.index }}</th>
      <td><b>{{ x[0] }}</b></td>
      <td><b>{{ x[1] }}</b></td>
      <td><b>{{ x[2] }}</b></td>
      <td><b>{{ x[3] }}</b></td>
      <td class="table-success"><b>Completed</b></td>
      {% endfor %}
    </tr>
  </tbody>
</table>
</div>
{% endblock %}
